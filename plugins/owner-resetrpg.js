import fetch from 'node-fetch';

let handler = async (m) => {
    try {
        // Mereset data semua pengguna ke nilai default
        for (let userId in global.db.data.users) {
            global.db.data.users[userId] = {
                money: 0,
                exp: 0,
                limit: 50,
                chat: 0,
                chatTotal: 0,
                lastclaim: 0,
                skata: 0,
                pc: 0,
                lastseen: 0,
                age: -1,
                regTime: -1,
                afk: -1,
                afkReason: '',
                banned: false,
                bannedTime: 0,
                warning: 0,
                level: 0,
                role: 'Beginner',
                skill: '',
                WarnReason: '',
                chip: 0,
                bank: 0,
                atm: 0,
                fullatm: 0,
                health: 100,
                energy: 100,
                sleep: 100,
                potion: 10,
                trash: 0,
                wood: 0,
                rock: 0,
                string: 0,
                emerald: 0,
                diamond: 0,
                gold: 0,
                iron: 0,
                common: 0,
                uncommon: 0,
                mythic: 0,
                legendary: 0,
                umpan: 0,
                pet: 0,
                horse: 0,
                horseexp: 0,
                horselastfeed: 0,
                cat: 0,
                catexp: 0,
                catlastfeed: 0,
                fox: 0,
                foxexp: 0,
                foxlastfeed: 0,
                robo: 0,
                roboexp: 0,
                robolastfeed: 0,
                dog: 0,
                dogexp: 0,
                doglastfeed: 0,
                command: 0,
                commandTotal: 0,
                commandLimit: 50,
                cmdLimitMsg: 0,
                paus: 0,
                kepiting: 0,
                gurita: 0,
                cumi: 0,
                buntal: 0,
                dory: 0,
                lumba: 0,
                lobster: 0,
                hiu: 0,
                udang: 0,
                ikan: 0,
                orca: 0,
                banteng: 0,
                harimau: 0,
                gajah: 0,
                kambing: 0,
                buaya: 0,
                kerbau: 0,
                sapi: 0,
                monyet: 0,
                babi: 0,
                ayam: 0,
                ojek: 0,
                polisi: 0,
                roket: 0,
                taxy: 0,
                armor: 0,
                armordurability: 0,
                sword: 0,
                sworddurability: 0,
                pickaxe: 0,
                pickaxedurability: 0,
                fishingrod: 0,
                fishingroddurability: 0,
                robodurability: 0,
                apel: 20,
                pisang: 0,
                anggur: 0,
                mangga: 0,
                jeruk: 0,
                steak: 0,
                ayam_goreng: 0,
                ribs: 0,
                roti: 0,
                udang_goreng: 0,
                bacon: 0,
                gandum: 0,
                minyak: 0,
                garam: 0,
                lastadventure: 0,
                lockBankCD: 0,
                lasthackbank: 0,
                lastkill: 0,
                lastmisi: 0,
                lastdungeon: 0,
                lastwar: 0,
                lastsda: 0,
                lastduel: 0,
                lastmining: 0,
                lasthunt: 0,
                lastgift: 0,
                lastberkebon: 0,
                lastdagang: 0,
                lasthourly: 0,
                lastbansos: 0,
                lastrampok: 0,
                lastclaim: 0,
                lastnebang: 0,
                lastweekly: 0,
                lastmonthly: 0,
                sticker: {},
                invest: {},
                saham: {},
                task: {},
                historyTrx: [],
                rumah: {},
                premiumTime: 0,
            };
        }

        // Mengirimkan pesan bahwa reset berhasil
        await m.reply('Semua data RPG pengguna telah direset ke nilai default.');
    } catch (error) {
        // Menangani kesalahan
        console.error(error);
        await m.reply('Terjadi kesalahan saat mereset data RPG semua pengguna.');
    }
};

handler.help = ['resetrpg'];
handler.tags = ['owner'];
handler.command = /^(resetrpg)$/i;
handler.owner = true;

export default handler;